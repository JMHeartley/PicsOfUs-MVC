@using System.Activities.Expressions
@model PicsOfUs.Models.PicFormViewModel

@{
    ViewBag.Title = (Model.Pic.Id == 0) ? "New Pic" : "Edit Pic";
}

<div class="d-flex align-items-stretch">
    <div class="col">
        <img src="https://bit.ly/2UsFBtW" alt="" class="image-fluid red-border">
    </div>
    <div class="col">
        @if (Model.Pic.Id == 0)
        {
            <h2>New Pic</h2>
        }
        else
        {
            <h2>Edit Pic</h2>
        }
        @using (Html.BeginForm("Save", "Browse", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            <div class="form-group">
                @Html.TextBoxFor(m => m.File, new { @class = "form-control-file", type = "file" })
            </div>
            <div class="form-group">
                @Html.LabelFor(p => p.Pic.Caption)
                @Html.TextBoxFor(p => p.Pic.Caption, new { @class = "form-control" })
            </div>
            <div class="form-group">
                @Html.LabelFor(p => p.Pic.CaptureDate)
                <div class="form-group">
                    <div class="input-group mb-3 date" data-provide="datepicker">
                        <span class="input-group-text">
                            <i class="far fa-calendar-alt"></i>
                        </span>
                        @Html.TextBoxFor(p => p.Pic.CaptureDate, "{0:MM/dd/yyyy}", new { @class = "form-control" })
                    </div>
                </div>
            </div>
            <label>Subjects</label>
            <div class="overflow-auto mb-3 member-select-overflow">
                @Html.EditorFor(m => m.Members)
            </div>
            @Html.ActionLink("Add a new member?", "New", "Member", null, new { @class = "btn btn-primary my-3" })
            <br />
            @Html.HiddenFor(m => m.Pic.Id)
            @Html.AntiForgeryToken()

            <button type="submit" class="btn btn-primary">Save</button>
        }
    </div>
</div>