@using PicsOfUs.Models
@model BrowseIndexViewModel
@{
    ViewBag.Title = "Index";
}

@if (User.IsInRole(RoleName.CanManagePicsAndTree))
{
    @Html.ActionLink("Add Pic", "New", null, new { @class = "btn btn-primary my-3" })

    @Html.ActionLink("Add Member", "New", "Members", null, new { @class = "btn btn-primary my-3" })
}

<div class="row no-gutters justify-content-center">
    <div class="px-5 my-3 ml-md-5 text-center">
        <h4>Date</h4>
        <a href="#" class="btn btn-primary">Add date</a>
    </div>
    <div class="px-5 my-3 ml-md-5 text-center">
        <h4>People</h4>
        <a href="#" class="btn btn-primary">Add person</a>
    </div>
</div>
@using (Html.BeginForm("Index", "Browse", ""))
{
}
<div>
    <h4 class="text-md-left text-center ml-md-5 pl-md-5">Results</h4>
    <div class="d-flex p-2" id="results-body">
    @if (!Model.ResultPics.Any())
    {
        <h4>There are no photos to display...</h4>
    }
    else
    {
        for (var i = 0; i < Model.ResultPics.Count(); i++)
        {
            <div class="photo-result trigger m-2" data-result-id="@i" data-photo-id="@Model.ResultPics[i].Id">
                <img src="@Model.ResultPics[i].Url" alt="@Model.ResultPics[i].Caption" class="image-fluid"/>
            </div>
        }
    }
    </div>
</div>
<div class="row no-gutters hidden add-mobile-nav-buffer scroll-y-no-bar" id="lightbox-container">
    <div id="lightbox" class="col-12 col-lg-10 row no-gutters">
        <i class="fas fa-times-circle lightbox-closer" aria-hidden="true" id="lightbox-closer-x"></i>
        <div class="col-12 col-lg-8 d-flex justify-content-center" id="lightbox-main">
            
            <div id="left-arrow">
                <i class="fas fa-arrow-left" aria-hidden="true"></i>
            </div>
            <img src="" alt="" id="lightbox-pic" class="image-fluid">
            <div id="right-arrow">
                <i class="fas fa-arrow-right" aria-hidden="true"></i>
            </div>
        </div>
        <div class="lightbox-closer d-flex justify-content-center align-items-center mobile-nav-button hidden" id="lightbox-closer-button">
            <h4 class="font-weight-normal">Back</h4>
        </div>
        <div id="lightbox-details" class="col-12 col-lg-4 pt-3 px-3 d-flex">
            <h3 id="caption" class="font-weight-bolder">Caption!</h3>
            <p id="capture-date" class="font-weight-lighter">Capture date</p>
            <div class="d-flex align-items-center" id="love-pic" data-is-loved="false">
                <i class="far fa-heart mx-2" aria-hidden="true"></i>
                <span class="font-weight-normal">Love Pic</span>
            </div>
            <div id="pic-subjects" class="my-1 p-1 d-flex scroll-y-no-bar">
                <!-- this is where the mini profiles go! -->
            </div>
            <!--
            <div id="comments" class="mb-3 blue-border scroll-y-no-bar">
                <div class="make-long">
                    this is where the comments go!
                </div>
            </div>
            -->
        </div>
        <div id="member-details" class="hidden row no-gutters add-mobile-nav-buffer scroll-y-no-bar">
            <i class="fas fa-times-circle member-details-closer" aria-hidden="true" id="member-details-closer-x"></i>
            <div class="col-12 col-lg-6 row no-gutters red-border" id="member-summary">
                <div class="col-6 p-3 red-border">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/1024px-Circle-icons-profile.svg.png1" alt="profile pic" class="profile-pic"/>
                </div>
                <div class="col-6 p-2 green-border">
                    <h5>Birthday</h5>
                    <p id="member-birthday"></p>
                    <h5>Details</h5>
                    <p>Blah blah blah...</p>
                </div>
                <div class="col-12 text-center red-border">
                    <h3 id="member-name"></h3>
                </div>
            </div>
            <div class="col-12 col-lg-6 blue-border add-mobile-nav-buffer">
                <h5>Parents</h5>
                <div id="member-parents"></div>

                <h5>Siblings</h5>
                <div id="member-siblings"></div>

                <h5>Children</h5>
                <div id="member-children"></div>
            </div>

            <div class="d-flex justify-content-center align-items-center mobile-nav-button member-details-closer">Back to Pic</div>
        </div>
    </div>
</div>